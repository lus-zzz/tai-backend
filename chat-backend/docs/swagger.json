{
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "schemes": [
    "http"
  ],
  "swagger": "2.0",
  "info": {
    "description": "聊天后端服务\n对话知识模型管理",
    "title": "Chat Backend API",
    "termsOfService": "there are no TOS at this moment, use at your own risk we take no responsibility",
    "contact": {
      "name": "API Support",
      "email": "support@example.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "1.0.0"
  },
  "host": "localhost:9090",
  "basePath": "/api/v1",
  "paths": {
    "/chat/conversations": {
      "get": {
        "description": "分页获取用户的对话列表，支持页码和每页数量参数",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "获取对话列表",
        "operationId": "getConversations",
        "parameters": [
          {
            "type": "integer",
            "default": 1,
            "description": "页码",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "default": 20,
            "description": "每页数量",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/ConversationListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "post": {
        "description": "根据配置创建一个新的对话",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "创建对话",
        "operationId": "createConversation",
        "parameters": [
          {
            "description": "对话设置",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "对话设置",
              "type": "object",
              "$ref": "#/definitions/ConversationSettings"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/ConversationSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/chat/conversations/{id}": {
      "delete": {
        "description": "根据对话ID删除指定的对话记录和相关数据",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "删除对话",
        "operationId": "deleteConversation",
        "parameters": [
          {
            "type": "string",
            "description": "对话ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/EmptySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/chat/conversations/{id}/history": {
      "get": {
        "description": "根据对话ID获取该对话的完整消息历史记录",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "获取对话历史",
        "operationId": "getConversationHistory",
        "parameters": [
          {
            "type": "string",
            "description": "对话ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/ConversationHistorySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/chat/conversations/{id}/settings": {
      "get": {
        "description": "根据对话ID获取该对话的详细设置信息",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "获取对话设置",
        "operationId": "getConversationSettings",
        "parameters": [
          {
            "type": "string",
            "description": "对话ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/ConversationSettingsSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "put": {
        "description": "根据对话ID更新该对话的设置信息，如模型配置、参数等",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "更新对话设置",
        "operationId": "updateConversationSettings",
        "parameters": [
          {
            "type": "string",
            "description": "对话ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "对话设置",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "对话设置",
              "type": "object",
              "$ref": "#/definitions/ConversationSettings"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/ConversationSettingsSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/chat/messages": {
      "post": {
        "description": "向指定对话发送消息并以SSE流式方式返回AI响应",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "text/event-stream"
        ],
        "tags": [
          "Chat"
        ],
        "summary": "发送消息",
        "operationId": "sendMessage",
        "parameters": [
          {
            "description": "聊天请求",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "聊天请求",
              "type": "object",
              "$ref": "#/definitions/ChatRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/knowledge/bases": {
      "get": {
        "description": "获取系统中所有已创建的知识库列表，包括知识库基本信息",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "获取知识库列表",
        "operationId": "listKnowledgeBases",
        "responses": {
          "200": {
            "$ref": "#/responses/KnowledgeBaseListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "post": {
        "description": "创建一个新的知识库，用于存储和管理相关文档",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "创建知识库",
        "operationId": "createKnowledgeBase",
        "parameters": [
          {
            "description": "知识库信息",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "知识库信息",
              "type": "object",
              "$ref": "#/definitions/KnowledgeBaseCreateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/KnowledgeBaseSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/knowledge/bases/{id}": {
      "put": {
        "description": "更新指定知识库的名称、描述等基本信息",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "更新知识库",
        "operationId": "updateKnowledgeBase",
        "parameters": [
          {
            "type": "string",
            "description": "知识库ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "更新信息",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "更新信息",
              "type": "object",
              "$ref": "#/definitions/UpdateKnowledgeBaseRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/KnowledgeBaseSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "delete": {
        "description": "根据知识库ID删除指定的知识库及其所有相关文件",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "删除知识库",
        "operationId": "deleteKnowledgeBase",
        "parameters": [
          {
            "type": "string",
            "description": "知识库ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/EmptySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/knowledge/bases/{id}/files": {
      "get": {
        "description": "获取指定知识库中所有已上传文件的列表和状态信息",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "获取知识库文件",
        "operationId": "getKnowledgeBaseFiles",
        "parameters": [
          {
            "type": "string",
            "description": "知识库ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/KnowledgeFileListSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "post": {
        "description": "上传文件到指定的知识库，系统将自动处理文档向量化",
        "consumes": [
          "multipart/form-data"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "上传文件到知识库",
        "operationId": "uploadFile",
        "parameters": [
          {
            "type": "string",
            "description": "知识库ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "object",
            "description": "上传文件",
            "name": "file",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/KnowledgeFileSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/knowledge/files/{file_id}": {
      "delete": {
        "description": "从知识库中删除指定的文件及其向量数据",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "删除知识库文件",
        "operationId": "deleteFile",
        "parameters": [
          {
            "type": "integer",
            "description": "文件ID",
            "name": "file_id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/EmptySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/knowledge/files/{file_id}/toggle": {
      "put": {
        "description": "启用或禁用知识库中的指定文件，控制其是否参与问答检索",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "切换文件启用状态",
        "operationId": "toggleFileEnable",
        "parameters": [
          {
            "type": "string",
            "description": "文件ID",
            "name": "file_id",
            "in": "path",
            "required": true
          },
          {
            "description": "状态切换",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "状态切换",
              "type": "object",
              "$ref": "#/definitions/FileToggleEnableRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/EmptySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models": {
      "post": {
        "description": "保存或更新模型的配置信息，包括API密钥、端点等设置",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "保存模型配置",
        "operationId": "saveModel",
        "parameters": [
          {
            "description": "模型信息",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "模型信息",
              "type": "object",
              "$ref": "#/definitions/ModelSaveRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/ModelSaveSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/available/all": {
      "get": {
        "description": "获取当前系统中所有可用的模型列表，包括聊天模型和向量模型",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "获取所有可用模型",
        "operationId": "listAvailableAllModels",
        "responses": {
          "200": {
            "$ref": "#/responses/ModelListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/available/chat": {
      "get": {
        "description": "获取当前系统中可用的聊天模型列表，仅包含已配置且可用的聊天模型",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "获取可用聊天模型",
        "operationId": "listAvailableChatModels",
        "responses": {
          "200": {
            "$ref": "#/responses/ModelListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/available/vector": {
      "get": {
        "description": "获取当前系统中可用的向量模型列表，用于知识库文档向量化",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "获取可用向量模型",
        "operationId": "listAvailableVectorModels",
        "responses": {
          "200": {
            "$ref": "#/responses/ModelListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/supported/chat": {
      "get": {
        "description": "获取系统支持的所有聊天模型列表，包括模型名称、类型等信息",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "获取支持的聊天模型",
        "operationId": "listSupportedChatModels",
        "responses": {
          "200": {
            "$ref": "#/responses/SupportedChatModelListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/supported/vector": {
      "get": {
        "description": "获取系统支持的所有向量模型列表，用于知识库向量化处理",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "获取支持的向量模型",
        "operationId": "listSupportedVectorModels",
        "responses": {
          "200": {
            "$ref": "#/responses/SupportedVectorModelListSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/{id}": {
      "delete": {
        "description": "根据模型ID删除指定的模型配置信息",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "删除模型配置",
        "operationId": "deleteModel",
        "parameters": [
          {
            "type": "integer",
            "description": "模型ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/EmptySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/models/{id}/status": {
      "put": {
        "description": "启用或禁用指定的模型，控制模型是否可用于对话",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Models"
        ],
        "summary": "设置模型状态",
        "operationId": "setModelStatus",
        "parameters": [
          {
            "type": "integer",
            "description": "模型ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "状态设置",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "状态设置",
              "type": "object",
              "$ref": "#/definitions/ModelStatusEnableRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/EmptySuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/settings/defaults": {
      "get": {
        "description": "获取系统当前的默认配置信息，包括模型设置、聊天参数等",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Settings"
        ],
        "summary": "获取默认设置",
        "operationId": "getDefaultSettings",
        "responses": {
          "200": {
            "$ref": "#/responses/DefaultSettingsSuccessResponse"
          }
        }
      },
      "put": {
        "description": "更新系统的默认配置信息，新的设置将应用于后续创建的对话",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Settings"
        ],
        "summary": "更新默认设置",
        "operationId": "updateDefaultSettings",
        "parameters": [
          {
            "description": "默认设置",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "description": "默认设置",
              "type": "object",
              "$ref": "#/definitions/DefaultSettings"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/DefaultSettingsSuccessResponse"
          },
          "400": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/settings/defaults/reset": {
      "post": {
        "description": "将系统配置重置为出厂默认值，恢复所有设置到初始状态",
        "produces": [
          "application/json"
        ],
        "tags": [
          "Settings"
        ],
        "summary": "重置默认设置",
        "operationId": "resetDefaultSettings",
        "responses": {
          "200": {
            "$ref": "#/responses/DefaultSettingsSuccessResponse"
          },
          "500": {
            "description": "ErrorResponse",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/version": {
      "get": {
        "description": "返回应用程序的详细版本信息，包括版本号、构建时间和Git信息",
        "produces": [
          "application/json"
        ],
        "tags": [
          "System"
        ],
        "summary": "获取版本信息",
        "operationId": "getVersion",
        "responses": {
          "200": {
            "$ref": "#/responses/VersionInfoSuccessResponse"
          }
        }
      }
    }
  },
  "definitions": {
    "APIResponse": {
      "description": "APIResponse 通用API响应（成功和错误都使用这个结构）",
      "type": "object",
      "required": [
        "success",
        "message",
        "timestamp"
      ],
      "properties": {
        "data": {
          "description": "响应数据（成功时有值，失败时为null）",
          "x-go-name": "Data"
        },
        "details": {
          "description": "错误详情（失败时有值）",
          "type": "string",
          "x-go-name": "Details"
        },
        "error_code": {
          "description": "错误代码（失败时有值）",
          "type": "string",
          "x-go-name": "ErrorCode"
        },
        "message": {
          "description": "响应消息",
          "type": "string",
          "x-go-name": "Message"
        },
        "success": {
          "description": "请求是否成功",
          "type": "boolean",
          "x-go-name": "Success"
        },
        "timestamp": {
          "description": "时间戳",
          "type": "string",
          "x-go-name": "Timestamp"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "AsyncChatRequest": {
      "description": "AsyncChatRequest 异步对话请求",
      "type": "object",
      "required": [
        "sessionId",
        "content",
        "requestId",
        "files"
      ],
      "properties": {
        "content": {
          "description": "消息内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "files": {
          "description": "文件列表",
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "Files"
        },
        "requestId": {
          "description": "请求ID (UUID)",
          "type": "string",
          "x-go-name": "RequestID"
        },
        "sessionId": {
          "description": "会话ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "SessionID"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "ChatMessageRequest": {
      "description": "ChatMessageRequest 聊天消息请求（用于Swagger文档）",
      "type": "object",
      "required": [
        "sessionId",
        "content",
        "files"
      ],
      "properties": {
        "content": {
          "description": "消息内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "files": {
          "description": "文件列表（可选）",
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "Files"
        },
        "sessionId": {
          "description": "会话ID/对话ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "SessionID"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ChatRequest": {
      "description": "ChatRequest 聊天请求 - 直接使用 SDK 的 AsyncChatRequest",
      "type": "object",
      "required": [
        "sessionId",
        "content",
        "requestId",
        "files"
      ],
      "properties": {
        "content": {
          "description": "消息内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "files": {
          "description": "文件列表",
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "Files"
        },
        "requestId": {
          "description": "请求ID (UUID)",
          "type": "string",
          "x-go-name": "RequestID"
        },
        "sessionId": {
          "description": "会话ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "SessionID"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ChatResponse": {
      "description": "ChatResponse 聊天响应",
      "type": "object",
      "required": [
        "id",
        "conversation_id",
        "content",
        "role",
        "status",
        "references",
        "token_count",
        "created_at"
      ],
      "properties": {
        "content": {
          "description": "消息内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "conversation_id": {
          "description": "对话ID",
          "type": "string",
          "x-go-name": "ConversationID"
        },
        "created_at": {
          "description": "创建时间",
          "type": "string",
          "format": "date-time",
          "x-go-name": "CreatedAt"
        },
        "id": {
          "description": "消息ID",
          "type": "string",
          "x-go-name": "ID"
        },
        "references": {
          "description": "引用信息列表",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference"
          },
          "x-go-name": "References"
        },
        "role": {
          "description": "角色: user/assistant",
          "type": "string",
          "x-go-name": "Role"
        },
        "status": {
          "description": "状态",
          "type": "string",
          "x-go-name": "Status"
        },
        "token_count": {
          "description": "Token数量",
          "type": "integer",
          "format": "int64",
          "x-go-name": "TokenCount"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "Conversation": {
      "description": "Conversation 对话信息",
      "type": "object",
      "required": [
        "name",
        "desc",
        "model_id",
        "temperature",
        "top_p",
        "presence_penalty",
        "frequency_penalty",
        "responseType",
        "stream",
        "knowledge_base_ids",
        "contextLimit",
        "id"
      ],
      "properties": {
        "contextLimit": {
          "description": "上下文限制（消息数量）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ContextLimit"
        },
        "desc": {
          "description": "对话描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "frequency_penalty": {
          "description": "重复控制",
          "type": "number",
          "format": "double",
          "x-go-name": "FrequencyPenalty"
        },
        "id": {
          "description": "对话ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "knowledge_base_ids": {
          "description": "知识库ID列表",
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          },
          "x-go-name": "KnowledgeBaseIDs"
        },
        "model_id": {
          "description": "模型ID（数字）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ModelID"
        },
        "name": {
          "description": "对话名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "presence_penalty": {
          "description": "词汇控制",
          "type": "number",
          "format": "double",
          "x-go-name": "PresencePenalty"
        },
        "responseType": {
          "description": "响应类型  text/json",
          "type": "string",
          "x-go-name": "ResponseType"
        },
        "stream": {
          "description": "对话输出模式 true=流式输出, false=非流式输出",
          "type": "boolean",
          "x-go-name": "Stream"
        },
        "temperature": {
          "description": "多样性",
          "type": "number",
          "format": "double",
          "x-go-name": "Temperature"
        },
        "top_p": {
          "description": "采样范围",
          "type": "number",
          "format": "double",
          "x-go-name": "TopP"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ConversationHistoryResponse": {
      "description": "ConversationHistoryResponse 对话历史响应",
      "type": "object",
      "required": [
        "conversation_id",
        "messages",
        "total"
      ],
      "properties": {
        "conversation_id": {
          "description": "对话ID",
          "type": "string",
          "x-go-name": "ConversationID"
        },
        "messages": {
          "description": "消息列表",
          "type": "array",
          "items": {
            "$ref": "#/definitions/SessionRecord"
          },
          "x-go-name": "Messages"
        },
        "total": {
          "description": "消息总数",
          "type": "integer",
          "format": "int64",
          "x-go-name": "Total"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ConversationListRequest": {
      "description": "ConversationListRequest 对话列表请求",
      "type": "object",
      "required": [
        "page",
        "page_size"
      ],
      "properties": {
        "page": {
          "description": "页码",
          "type": "integer",
          "format": "int64",
          "x-go-name": "Page"
        },
        "page_size": {
          "description": "每页数量",
          "type": "integer",
          "format": "int64",
          "x-go-name": "PageSize"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ConversationListResponse": {
      "description": "ConversationListResponse 对话列表响应",
      "type": "object",
      "required": [
        "conversations",
        "total",
        "page",
        "page_size"
      ],
      "properties": {
        "conversations": {
          "description": "对话列表",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Conversation"
          },
          "x-go-name": "Conversations"
        },
        "page": {
          "description": "当前页码",
          "type": "integer",
          "format": "int64",
          "x-go-name": "Page"
        },
        "page_size": {
          "description": "每页数量",
          "type": "integer",
          "format": "int64",
          "x-go-name": "PageSize"
        },
        "total": {
          "description": "总数",
          "type": "integer",
          "format": "int64",
          "x-go-name": "Total"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ConversationSettings": {
      "description": "ConversationSettings 对话设置",
      "type": "object",
      "required": [
        "name",
        "desc",
        "model_id",
        "temperature",
        "top_p",
        "presence_penalty",
        "frequency_penalty",
        "responseType",
        "stream",
        "knowledge_base_ids",
        "contextLimit"
      ],
      "properties": {
        "contextLimit": {
          "description": "上下文限制（消息数量）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ContextLimit"
        },
        "desc": {
          "description": "对话描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "frequency_penalty": {
          "description": "重复控制",
          "type": "number",
          "format": "double",
          "x-go-name": "FrequencyPenalty"
        },
        "knowledge_base_ids": {
          "description": "知识库ID列表",
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          },
          "x-go-name": "KnowledgeBaseIDs"
        },
        "model_id": {
          "description": "模型ID（数字）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ModelID"
        },
        "name": {
          "description": "对话名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "presence_penalty": {
          "description": "词汇控制",
          "type": "number",
          "format": "double",
          "x-go-name": "PresencePenalty"
        },
        "responseType": {
          "description": "响应类型  text/json",
          "type": "string",
          "x-go-name": "ResponseType"
        },
        "stream": {
          "description": "对话输出模式 true=流式输出, false=非流式输出",
          "type": "boolean",
          "x-go-name": "Stream"
        },
        "temperature": {
          "description": "多样性",
          "type": "number",
          "format": "double",
          "x-go-name": "Temperature"
        },
        "top_p": {
          "description": "采样范围",
          "type": "number",
          "format": "double",
          "x-go-name": "TopP"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "CredentialSchemaItem": {
      "description": "CredentialSchemaItem 模型凭证配置项",
      "type": "object",
      "properties": {
        "desc": {
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "type": "string",
          "x-go-name": "Name"
        },
        "value": {
          "type": "string",
          "x-go-name": "Value"
        }
      },
      "x-go-package": "flowy-sdk/services/model"
    },
    "DefaultConversationConfig": {
      "description": "DefaultConversationConfig 默认对话配置",
      "type": "object",
      "required": [
        "name",
        "desc",
        "model_id",
        "temperature",
        "top_p",
        "presence_penalty",
        "frequency_penalty",
        "responseType",
        "stream",
        "knowledge_base_ids",
        "contextLimit"
      ],
      "properties": {
        "contextLimit": {
          "description": "上下文限制（消息数量）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ContextLimit"
        },
        "desc": {
          "description": "对话描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "frequency_penalty": {
          "description": "重复控制",
          "type": "number",
          "format": "double",
          "x-go-name": "FrequencyPenalty"
        },
        "knowledge_base_ids": {
          "description": "知识库ID列表",
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          },
          "x-go-name": "KnowledgeBaseIDs"
        },
        "model_id": {
          "description": "模型ID（数字）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ModelID"
        },
        "name": {
          "description": "对话名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "presence_penalty": {
          "description": "词汇控制",
          "type": "number",
          "format": "double",
          "x-go-name": "PresencePenalty"
        },
        "responseType": {
          "description": "响应类型  text/json",
          "type": "string",
          "x-go-name": "ResponseType"
        },
        "stream": {
          "description": "对话输出模式 true=流式输出, false=非流式输出",
          "type": "boolean",
          "x-go-name": "Stream"
        },
        "temperature": {
          "description": "多样性",
          "type": "number",
          "format": "double",
          "x-go-name": "Temperature"
        },
        "top_p": {
          "description": "采样范围",
          "type": "number",
          "format": "double",
          "x-go-name": "TopP"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "DefaultKnowledgeBaseConfig": {
      "description": "DefaultKnowledgeBaseConfig 默认知识库配置",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "DefaultKnowledgeBaseSettings": {
      "description": "DefaultKnowledgeBaseSettings 默认知识库设置（用于持久化）",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize",
        "updated_at"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "updated_at": {
          "description": "更新时间",
          "type": "string",
          "format": "date-time",
          "x-go-name": "UpdatedAt"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "DefaultModelSettings": {
      "description": "DefaultModelSettings 默认模型设置",
      "type": "object",
      "required": [
        "chat_model_id",
        "embedding_model_id"
      ],
      "properties": {
        "chat_model_id": {
          "description": "默认对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChatModelID"
        },
        "embedding_model_id": {
          "description": "默认向量模型ID（嵌入模型）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "EmbeddingModelID"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "DefaultSettings": {
      "description": "DefaultSettings 统一的默认设置（用于持久化）",
      "type": "object",
      "required": [
        "models",
        "conversation",
        "knowledge_base",
        "updated_at"
      ],
      "properties": {
        "conversation": {
          "$ref": "#/definitions/DefaultConversationConfig"
        },
        "knowledge_base": {
          "$ref": "#/definitions/DefaultKnowledgeBaseConfig"
        },
        "models": {
          "$ref": "#/definitions/DefaultModelSettings"
        },
        "updated_at": {
          "description": "更新时间",
          "type": "string",
          "format": "date-time",
          "x-go-name": "UpdatedAt"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "EmbeddingProperty": {
      "description": "EmbeddingProperty 向量模型属性",
      "type": "object",
      "properties": {
        "batchLimit": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "BatchLimit"
        },
        "embeddingDimension": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "EmbeddingDimension"
        },
        "embeddingMaxLength": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "EmbeddingMaxLength"
        },
        "model": {
          "type": "string",
          "x-go-name": "Model"
        }
      },
      "x-go-package": "flowy-sdk/services/model"
    },
    "ErrorCode": {
      "description": "ErrorCode 错误代码类型",
      "type": "string",
      "x-go-package": "chat-backend/utils"
    },
    "ErrorResponse": {
      "description": "ErrorResponse 错误响应结构",
      "type": "object",
      "required": [
        "success",
        "error_code",
        "message",
        "details",
        "timestamp"
      ],
      "properties": {
        "details": {
          "description": "错误详情",
          "type": "string",
          "x-go-name": "Details"
        },
        "error_code": {
          "$ref": "#/definitions/ErrorCode"
        },
        "message": {
          "description": "错误消息",
          "type": "string",
          "x-go-name": "Message"
        },
        "success": {
          "description": "请求是否成功",
          "type": "boolean",
          "x-go-name": "Success"
        },
        "timestamp": {
          "description": "时间戳",
          "type": "string",
          "format": "date-time",
          "x-go-name": "Timestamp"
        }
      },
      "x-go-package": "chat-backend/utils"
    },
    "ExtraInfo": {
      "description": "ExtraInfo 额外信息",
      "type": "object",
      "properties": {
        "chartData": {
          "x-go-name": "ChartData"
        },
        "tools": {
          "type": "array",
          "items": {},
          "x-go-name": "Tools"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "FileToggleEnableRequest": {
      "description": "FileToggleEnableRequest 文件启用/禁用请求",
      "type": "object",
      "required": [
        "enable"
      ],
      "properties": {
        "enable": {
          "description": "true=启用, false=禁用",
          "type": "boolean",
          "x-go-name": "Enable"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "KnowledgeBase": {
      "description": "KnowledgeBase 知识库（列表返回）",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize",
        "id",
        "file_count"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略 固定尺寸:fixed  自然句:period   自然段落:paragraph",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "file_count": {
          "description": "文件数量",
          "type": "integer",
          "format": "int64",
          "x-go-name": "FileCount"
        },
        "id": {
          "description": "知识库ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "KnowledgeBaseConfig": {
      "description": "KnowledgeBaseConfig 知识库配置（公用字段）",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略 固定尺寸:fixed  自然句:period   自然段落:paragraph",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "KnowledgeBaseCreateRequest": {
      "description": "KnowledgeBaseCreateRequest 创建知识库请求",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略 固定尺寸:fixed  自然句:period   自然段落:paragraph",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "KnowledgeBaseSettings": {
      "description": "KnowledgeBaseSettings 知识库设置",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "KnowledgeFile": {
      "description": "KnowledgeFile 知识库文件",
      "type": "object",
      "required": [
        "id",
        "name",
        "size",
        "enable",
        "status",
        "uploaded_at",
        "index_percent",
        "errorMessage"
      ],
      "properties": {
        "enable": {
          "description": "启用状态: true=启用, false=禁用",
          "type": "boolean",
          "x-go-name": "Enable"
        },
        "errorMessage": {
          "description": "错误信息，空字符串表示无错误",
          "type": "string",
          "x-go-name": "ErrorMessage"
        },
        "id": {
          "description": "文件ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "index_percent": {
          "description": "索引进度百分比",
          "type": "integer",
          "format": "int64",
          "x-go-name": "IndexPercent"
        },
        "name": {
          "description": "文件名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "size": {
          "description": "文件大小（字节）",
          "type": "integer",
          "format": "int64",
          "x-go-name": "Size"
        },
        "status": {
          "description": "索引状态: 0=构建中, 1=完成, 2=失败",
          "type": "integer",
          "format": "int64",
          "x-go-name": "Status"
        },
        "uploaded_at": {
          "description": "上传时间",
          "type": "string",
          "format": "date-time",
          "x-go-name": "UploadedAt"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "LLMProperty": {
      "description": "LLMProperty 聊天模型属性",
      "type": "object",
      "properties": {
        "contextLength": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "ContextLength"
        },
        "fixQwqThink": {
          "type": "boolean",
          "x-go-name": "FixQwqThink"
        },
        "maxToken": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "MaxToken"
        },
        "model": {
          "type": "string",
          "x-go-name": "Model"
        },
        "stream": {
          "type": "boolean",
          "x-go-name": "Stream"
        },
        "supportTool": {
          "type": "boolean",
          "x-go-name": "SupportTool"
        },
        "tokenProportion": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TokenProportion"
        }
      },
      "x-go-package": "flowy-sdk/services/model"
    },
    "MessageRecord": {
      "description": "MessageRecord 对话消息记录",
      "type": "object",
      "required": [
        "id",
        "role",
        "content",
        "created_at"
      ],
      "properties": {
        "content": {
          "description": "消息内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "created_at": {
          "description": "创建时间",
          "type": "string",
          "format": "date-time",
          "x-go-name": "CreatedAt"
        },
        "id": {
          "description": "消息ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "role": {
          "description": "角色: user/assistant",
          "type": "string",
          "x-go-name": "Role"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "ModelInfo": {
      "description": "ModelInfo 模型信息",
      "type": "object",
      "properties": {
        "credentials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/CredentialSchemaItem"
          },
          "x-go-name": "Credentials"
        },
        "enable": {
          "type": "boolean",
          "x-go-name": "Enable"
        },
        "endpoint": {
          "type": "string",
          "x-go-name": "Endpoint"
        },
        "id": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "name": {
          "type": "string",
          "x-go-name": "Name"
        },
        "role": {
          "type": "string",
          "x-go-name": "Role"
        },
        "symbol": {
          "type": "string",
          "x-go-name": "Symbol"
        },
        "type": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Type"
        }
      },
      "x-go-package": "flowy-sdk/services/model"
    },
    "ModelStatusEnableRequest": {
      "description": "ModelStatusEnableRequest 模型状态启用/禁用请求",
      "type": "object",
      "required": [
        "enable"
      ],
      "properties": {
        "enable": {
          "description": "true=启用, false=禁用",
          "type": "boolean",
          "x-go-name": "Enable"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "MultiContentItem": {
      "description": "MultiContentItem 多内容项",
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "x-go-name": "Text"
        },
        "type": {
          "type": "string",
          "x-go-name": "Type"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "PluginsInfo": {
      "description": "PluginsInfo 插件信息",
      "type": "object",
      "properties": {
        "file_analysis": {
          "type": "array",
          "items": {},
          "x-go-name": "FileAnalysis"
        },
        "knowledge": {
          "type": "array",
          "items": {},
          "x-go-name": "Knowledge"
        },
        "nl2sql": {
          "type": "array",
          "items": {},
          "x-go-name": "NL2SQL"
        },
        "onlineSearch": {
          "type": "array",
          "items": {},
          "x-go-name": "OnlineSearch"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "Reference": {
      "description": "Reference 引用信息",
      "type": "object",
      "required": [
        "document_id",
        "document_title",
        "content",
        "similarity",
        "chunk_index"
      ],
      "properties": {
        "chunk_index": {
          "description": "分块索引",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkIndex"
        },
        "content": {
          "description": "引用内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "document_id": {
          "description": "文档ID",
          "type": "string",
          "x-go-name": "DocumentID"
        },
        "document_title": {
          "description": "文档标题",
          "type": "string",
          "x-go-name": "DocumentTitle"
        },
        "similarity": {
          "description": "相似度",
          "type": "number",
          "format": "double",
          "x-go-name": "Similarity"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "SSEChatEvent": {
      "description": "SSEChatEvent SSE聊天事件 - 直接使用 SDK 的 StreamEvent",
      "type": "object",
      "x-go-package": "chat-backend/models"
    },
    "SessionRecord": {
      "description": "SessionRecord 对话记录",
      "type": "object",
      "properties": {
        "agentId": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentID"
        },
        "content": {
          "type": "string",
          "x-go-name": "Content"
        },
        "error": {
          "type": "boolean",
          "x-go-name": "Error"
        },
        "errorMessage": {
          "type": "string",
          "x-go-name": "ErrorMessage"
        },
        "extra": {
          "$ref": "#/definitions/ExtraInfo"
        },
        "finishReason": {
          "type": "string",
          "x-go-name": "FinishReason"
        },
        "id": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "index": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Index"
        },
        "message": {
          "type": "string",
          "x-go-name": "Message"
        },
        "multi_content": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MultiContentItem"
          },
          "x-go-name": "MultiContent"
        },
        "pending": {
          "type": "boolean",
          "x-go-name": "Pending"
        },
        "plugins": {
          "$ref": "#/definitions/PluginsInfo"
        },
        "question": {
          "type": "string",
          "x-go-name": "Question"
        },
        "requestId": {
          "type": "string",
          "x-go-name": "RequestID"
        },
        "role": {
          "type": "string",
          "x-go-name": "Role"
        },
        "sender": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Sender"
        },
        "sessionId": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "SessionID"
        },
        "suggestedQuestions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "SuggestedQuestions"
        },
        "tools": {
          "x-go-name": "Tools"
        },
        "usage": {
          "$ref": "#/definitions/UsageInfo"
        },
        "userData": {
          "type": "object",
          "additionalProperties": {},
          "x-go-name": "UserData"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "StreamChatResponse": {
      "description": "StreamChatResponse 流式聊天响应",
      "type": "object",
      "required": [
        "id",
        "content",
        "delta",
        "done"
      ],
      "properties": {
        "content": {
          "description": "完整内容",
          "type": "string",
          "x-go-name": "Content"
        },
        "delta": {
          "description": "增量内容",
          "type": "string",
          "x-go-name": "Delta"
        },
        "done": {
          "description": "是否完成",
          "type": "boolean",
          "x-go-name": "Done"
        },
        "id": {
          "description": "消息ID",
          "type": "string",
          "x-go-name": "ID"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "StreamEvent": {
      "description": "StreamEvent SSE流事件",
      "type": "object",
      "properties": {
        "agentId": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentID"
        },
        "chartData": {
          "x-go-name": "ChartData"
        },
        "error": {
          "type": "boolean",
          "x-go-name": "Error"
        },
        "eventType": {
          "type": "string",
          "x-go-name": "EventType"
        },
        "finishReason": {
          "type": "string",
          "x-go-name": "FinishReason"
        },
        "index": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Index"
        },
        "message": {
          "type": "string",
          "x-go-name": "Message"
        },
        "pending": {
          "type": "boolean",
          "x-go-name": "Pending"
        },
        "plugins": {
          "type": "object",
          "additionalProperties": {},
          "x-go-name": "Plugins"
        },
        "question": {
          "type": "string",
          "x-go-name": "Question"
        },
        "requestId": {
          "type": "string",
          "x-go-name": "RequestID"
        },
        "sessionId": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "SessionID"
        },
        "settingId": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "SettingID"
        },
        "shadowMessage": {
          "type": "string",
          "x-go-name": "ShadowMessage"
        },
        "structData": {
          "$ref": "#/definitions/StructData"
        },
        "suggestedQuestions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "SuggestedQuestions"
        },
        "tools": {
          "type": "array",
          "items": {},
          "x-go-name": "Tools"
        },
        "usage": {
          "$ref": "#/definitions/UsageInfo"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "StructData": {
      "description": "StructData 结构化数据",
      "type": "object",
      "properties": {
        "code": {
          "x-go-name": "Code"
        },
        "json": {
          "x-go-name": "JSON"
        },
        "markMap": {
          "x-go-name": "MarkMap"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "SuccessResponse": {
      "description": "SuccessResponse 统一成功响应结构",
      "type": "object",
      "required": [
        "success",
        "message",
        "data",
        "timestamp"
      ],
      "properties": {
        "data": {
          "description": "响应数据",
          "x-go-name": "Data"
        },
        "message": {
          "description": "响应消息",
          "type": "string",
          "x-go-name": "Message"
        },
        "success": {
          "description": "请求是否成功",
          "type": "boolean",
          "x-go-name": "Success"
        },
        "timestamp": {
          "description": "时间戳",
          "type": "string",
          "format": "date-time",
          "x-go-name": "Timestamp"
        }
      },
      "x-go-package": "chat-backend/utils"
    },
    "SupportedChatModel": {
      "description": "SupportedChatModel 支持的聊天模型",
      "type": "object",
      "properties": {
        "OncurrencyLimit": {
          "type": "integer",
          "format": "int64"
        },
        "credentialSchema": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/CredentialSchemaItem"
          },
          "x-go-name": "CredentialSchema"
        },
        "identify": {
          "type": "string",
          "x-go-name": "Identify"
        },
        "llmProperty": {
          "$ref": "#/definitions/LLMProperty"
        },
        "name": {
          "type": "string",
          "x-go-name": "Name"
        }
      },
      "x-go-package": "flowy-sdk/services/model"
    },
    "SupportedVectorModel": {
      "description": "SupportedVectorModel 支持的向量模型",
      "type": "object",
      "properties": {
        "credentialSchema": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/CredentialSchemaItem"
          },
          "x-go-name": "CredentialSchema"
        },
        "identify": {
          "type": "string",
          "x-go-name": "Identify"
        },
        "llmProperty": {
          "$ref": "#/definitions/EmbeddingProperty"
        },
        "name": {
          "type": "string",
          "x-go-name": "Name"
        }
      },
      "x-go-package": "flowy-sdk/services/model"
    },
    "UpdateKnowledgeBaseRequest": {
      "description": "UpdateKnowledgeBaseRequest 更新知识库请求",
      "type": "object",
      "required": [
        "name",
        "desc",
        "vectorModel",
        "agentModel",
        "chunkStrategy",
        "chunkSize"
      ],
      "properties": {
        "agentModel": {
          "description": "对话模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "AgentModel"
        },
        "chunkSize": {
          "description": "切片大小",
          "type": "integer",
          "format": "int64",
          "x-go-name": "ChunkSize"
        },
        "chunkStrategy": {
          "description": "切片策略 固定尺寸:fixed  自然句:period   自然段落:paragraph",
          "type": "string",
          "x-go-name": "ChunkStrategy"
        },
        "desc": {
          "description": "知识库描述",
          "type": "string",
          "x-go-name": "Desc"
        },
        "name": {
          "description": "知识库名称",
          "type": "string",
          "x-go-name": "Name"
        },
        "vectorModel": {
          "description": "向量模型ID",
          "type": "integer",
          "format": "int64",
          "x-go-name": "VectorModel"
        }
      },
      "x-go-package": "chat-backend/models"
    },
    "UsageInfo": {
      "description": "UsageInfo 使用信息",
      "type": "object",
      "properties": {
        "completionTokens": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CompletionTokens"
        },
        "duration": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Duration"
        },
        "promptTokens": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "PromptTokens"
        },
        "totalTokens": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TotalTokens"
        }
      },
      "x-go-package": "flowy-sdk/services/agent"
    },
    "VersionInfo": {
      "description": "VersionInfo 版本信息响应结构",
      "type": "object",
      "required": [
        "version",
        "build_time",
        "git_commit",
        "git_branch",
        "git_tag"
      ],
      "properties": {
        "build_time": {
          "description": "构建时间",
          "type": "string",
          "x-go-name": "BuildTime"
        },
        "git_branch": {
          "description": "Git分支",
          "type": "string",
          "x-go-name": "GitBranch"
        },
        "git_commit": {
          "description": "Git提交哈希",
          "type": "string",
          "x-go-name": "GitCommit"
        },
        "git_tag": {
          "description": "Git标签",
          "type": "string",
          "x-go-name": "GitTag"
        },
        "version": {
          "description": "版本号",
          "type": "string",
          "x-go-name": "Version"
        }
      },
      "x-go-package": "chat-backend/handlers"
    },
    "WebSocketMessage": {
      "description": "WebSocketMessage WebSocket消息",
      "type": "object",
      "required": [
        "type",
        "data",
        "id",
        "error"
      ],
      "properties": {
        "data": {
          "description": "消息数据",
          "x-go-name": "Data"
        },
        "error": {
          "description": "错误信息",
          "type": "string",
          "x-go-name": "Error"
        },
        "id": {
          "description": "消息ID",
          "type": "string",
          "x-go-name": "ID"
        },
        "type": {
          "description": "消息类型",
          "type": "string",
          "x-go-name": "Type"
        }
      },
      "x-go-package": "chat-backend/models"
    }
  },
  "responses": {
    "ConversationHistorySuccessResponse": {
      "description": "ConversationHistorySuccessResponse 对话历史成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/ConversationHistoryResponse"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "ConversationListSuccessResponse": {
      "description": "ConversationListSuccessResponse 对话列表获取成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/ConversationListResponse"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "ConversationSettingsSuccessResponse": {
      "description": "ConversationSettingsSuccessResponse 对话设置成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/ConversationSettings"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "ConversationSuccessResponse": {
      "description": "ConversationSuccessResponse 对话创建成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/Conversation"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "DefaultSettingsSuccessResponse": {
      "description": "DefaultSettingsSuccessResponse 默认设置成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/DefaultSettings"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "EmptySuccessResponse": {
      "description": "EmptySuccessResponse 空数据成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "空数据",
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "KnowledgeBaseListSuccessResponse": {
      "description": "KnowledgeBaseListSuccessResponse 知识库列表成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "知识库列表数据",
            "type": "array",
            "items": {
              "$ref": "#/definitions/KnowledgeBase"
            },
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "KnowledgeBaseSuccessResponse": {
      "description": "KnowledgeBaseSuccessResponse 知识库成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/KnowledgeBase"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "KnowledgeFileListSuccessResponse": {
      "description": "KnowledgeFileListSuccessResponse 知识库文件列表成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "知识库文件列表数据",
            "type": "array",
            "items": {
              "$ref": "#/definitions/KnowledgeFile"
            },
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "KnowledgeFileSuccessResponse": {
      "description": "KnowledgeFileSuccessResponse 知识库文件成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/KnowledgeFile"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "ModelListSuccessResponse": {
      "description": "ModelListSuccessResponse 模型列表成功响应 (通用)",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "模型列表数据",
            "type": "array",
            "items": {
              "$ref": "#/definitions/ModelInfo"
            },
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "ModelSaveSuccessResponse": {
      "description": "ModelSaveSuccessResponse 模型保存成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "模型ID数据",
            "type": "object",
            "additionalProperties": {},
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "SupportedChatModelListSuccessResponse": {
      "description": "SupportedChatModelListSuccessResponse 支持的聊天模型列表成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "支持的聊天模型列表数据",
            "type": "array",
            "items": {
              "$ref": "#/definitions/SupportedChatModel"
            },
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "SupportedVectorModelListSuccessResponse": {
      "description": "SupportedVectorModelListSuccessResponse 支持的向量模型列表成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "description": "支持的向量模型列表数据",
            "type": "array",
            "items": {
              "$ref": "#/definitions/SupportedVectorModel"
            },
            "x-go-name": "Data"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    },
    "VersionInfoSuccessResponse": {
      "description": "VersionInfoSuccessResponse 版本信息成功响应",
      "schema": {
        "type": "object",
        "required": [
          "success",
          "message",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/definitions/VersionInfo"
          },
          "message": {
            "description": "响应消息",
            "type": "string",
            "x-go-name": "Message"
          },
          "success": {
            "description": "请求是否成功",
            "type": "boolean",
            "x-go-name": "Success"
          },
          "timestamp": {
            "description": "时间戳",
            "type": "string",
            "x-go-name": "Timestamp"
          }
        }
      }
    }
  }
}